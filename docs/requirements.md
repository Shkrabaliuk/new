# Requirements

## 1. Scope (MVP)

### In scope
- Текстовий редактор без панелей форматування.
- Автоматична типографіка під час збереження.
- Авто-структурування тексту у базові блоки (заголовок, абзац, списки).
- Збереження матеріалів у `.md` файли.
- Рендер публічної сторінки матеріалу.

### Out of scope
- Колаборативне редагування в реальному часі.
- Плагінна система.
- Складні ролі доступу (RBAC).
- Мобільні нативні застосунки.

## 2. Functional requirements

### FR-1 Editor
- Система має надавати поле безперервного введення тексту.
- Система має підтримувати вставку та видалення тексту без втрати форматування Markdown.

### FR-2 Typography
- Система має автоматично нормалізувати лапки.
- Система має розрізняти дефіс/тире та виправляти їх згідно правил.
- Система має застосовувати нерозривні пробіли для визначеного набору випадків.

### FR-3 Structure inference
- Короткий рядок перед порожнім рядком інтерпретується як заголовок рівня 2.
- Рядки з префіксом `-` або `*` інтерпретуються як маркований список.
- Рядки з префіксом `1.` / `2.` / ... інтерпретуються як нумерований список.

### FR-4 Marginalia
- Конструкція `((...))` інтерпретується як marginalia.
- Marginalia не має розривати основний потік тексту.

### FR-5 File storage
- Кожен документ зберігається у окремий `.md` файл.
- Ім'я файлу формується зі slug заголовка та дати.
- Система має підтримувати відновлення документа з файлу.

### FR-6 Publishing
- Система має рендерити markdown у HTML.
- Система має підтримувати базову навігацію між матеріалами.

## 3. Non-functional requirements

- NFR-1: P95 часу збереження документа до 200 мс для тексту до 50 KB.
- NFR-2: P95 часу рендеру сторінки до 500 мс.
- NFR-3: Дані мають бути читабельні без спеціалізованого ПЗ (plain text markdown).
- NFR-4: Зміни документа мають бути сумісні з Git diff.

## 4. Acceptance criteria

- Є щонайменше один е2е сценарій: створення, збереження, рендер документа.
- Типографічні перетворення покриті unit-тестами.
- Правила авто-структури покриті unit-тестами.
